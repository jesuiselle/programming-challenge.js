(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],[,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(1),a=n.n(r),i=n(5),s=n.n(i),o=(n(11),n(2)),l=(n(12),function(e){return Object(c.jsx)("div",{className:"card",children:e.children})}),d=(n(13),function(e){return Object(c.jsx)("section",{className:"job-list",children:e.jobs.map((function(e){return Object(c.jsx)(l,{children:Object(c.jsx)("article",{className:"job-card",children:Object(c.jsxs)("a",{href:"!#",className:"job-card__link",children:[Object(c.jsx)("div",{className:"job-card__icon",children:Object(c.jsx)("img",{src:e.logo,alt:""})}),Object(c.jsx)("div",{className:"job-card__media",children:Object(c.jsx)("p",{children:e.responsibilities})}),Object(c.jsxs)("div",{className:"job-card__header",children:[Object(c.jsx)("h3",{className:"job-card__header-title",children:e.title}),Object(c.jsxs)("p",{className:"job-card__header-meta",children:["_ beim ",e.companyName," im ",e.companyCity]}),Object(c.jsx)("div",{className:"job-card__header-icon",children:Object(c.jsx)("svg",{viewBox:"0 0 28 25",children:Object(c.jsx)("path",{fill:"#f2a900",d:"M13.145 2.13l1.94-1.867 12.178 12-12.178 12-1.94-1.867 8.931-8.8H.737V10.93h21.339z"})})})]})]})})},e.id)}))})}),j=(n(14),a.a.memo((function(e){return Object(c.jsxs)(a.a.Fragment,{children:[Object(c.jsx)("div",{className:"backdrop",onClick:e.onClose}),Object(c.jsxs)("div",{className:"error-modal",children:[Object(c.jsx)("h2",{children:"Ein Fehler ist aufgetreten!"}),Object(c.jsx)("p",{children:e.children}),Object(c.jsx)("div",{className:"error-modal__actions",children:Object(c.jsx)("button",{className:"error-modal__button",type:"button",onClick:e.onClose,children:"Ok"})})]})]})}))),u=n(4),b={loading:!1,error:null,data:null,extra:null,identifier:null},h=function(e,t){switch(t.type){case"SEND":return{loading:!0,error:null,data:null,extra:null,identifier:t.identifier};case"RESPONSE":return Object(u.a)(Object(u.a)({},e),{},{loading:!1,data:t.responseData,extra:t.extra});case"ERROR":return{loading:!1,error:t.errorMessage};case"CLEAR":return b;default:throw new Error("Should not be reached!")}},O=function(){var e=Object(r.useReducer)(h,b),t=Object(o.a)(e,2),n=t[0],c=t[1],a=Object(r.useCallback)((function(){return c({type:"CLEAR"})}),[]),i=Object(r.useCallback)((function(e,t,n,r,a){c({type:"SEND",identifier:a}),fetch(e,{method:t,body:n}).then((function(e){return e.json()})).then((function(e){c({type:"RESPONSE",responseData:e,extra:r})})).catch((function(e){c({type:"ERROR",errorMessage:"Etwas ging schief!"})}))}),[]);return{isLoading:n.loading,data:n.data,error:n.error,sendRequest:i,reqExtra:n.extra,reqIdentifer:n.identifier,clear:a}},m=(n(15),a.a.memo((function(e){var t=e.onLoadJobs,n=Object(r.useState)(""),a=Object(o.a)(n,2),i=a[0],s=a[1],d=Object(r.useRef)(),u=O(),b=u.isLoading,h=u.data,m=u.error,f=u.sendRequest,p=u.clear;return Object(r.useEffect)((function(){var e=setTimeout((function(){if(i===d.current.value){var e=0===i.length?"":'?search.query="'.concat(i,'"');f("https://staging-api.joblocal.de/v4/search-jobs"+e,"GET")}}),500);return function(){clearTimeout(e)}}),[i,d,f]),Object(r.useEffect)((function(){if(!b&&!m&&h){var e=[];for(var n in h.included){var c=h.included[n];e.push({id:n,title:c.attributes.title,responsibilities:c.attributes.responsibilities,logo:c.attributes.company.logo,companyName:c.attributes.company.name,companyCity:c.attributes.company.city})}t(e)}}),[h,b,m,t]),Object(c.jsxs)("section",{className:"search",children:[m&&Object(c.jsx)(j,{onClose:p,children:m}),Object(c.jsx)(l,{children:Object(c.jsx)("div",{className:"search-input",children:Object(c.jsxs)("span",{className:"input-group",children:[Object(c.jsx)("input",{ref:d,type:"text",name:"input-search",id:"input-search",value:i,onChange:function(e){return s(e.target.value)},placeholder:"Tippen Sie hier..."}),Object(c.jsx)("label",{htmlFor:"text-1542372332072",children:"Tippen Sie hier..."}),Object(c.jsxs)("div",{className:"req-mark",children:[b&&Object(c.jsx)("div",{className:"search-loading",children:"Laden von..."}),"\ud83d\ude03"]})]})})})]})}))),f=function(e,t){switch(t.type){case"SET":return t.jobs;default:throw new Error("Should not get there!")}},p=function(){var e=Object(r.useReducer)(f,[]),t=Object(o.a)(e,2),n=t[0],a=t[1],i=O(),s=i.error,l=i.clear,u=Object(r.useCallback)((function(e){a({type:"SET",jobs:e})}),[]),b=Object(r.useMemo)((function(){return Object(c.jsx)(d,{jobs:n})}),[n]);return Object(c.jsxs)("div",{className:"App",children:[s&&Object(c.jsx)(j,{onClose:l,children:s}),Object(c.jsxs)("section",{children:[Object(c.jsx)(m,{onLoadJobs:u}),b]})]})};var x=function(){return Object(c.jsx)(p,{})},g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,17)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))};s.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(x,{})}),document.getElementById("root")),g()}],[[16,1,2]]]);
//# sourceMappingURL=main.ee63abde.chunk.js.map